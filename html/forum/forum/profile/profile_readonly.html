{% extends 'base/base.html' %}

{% load i18n %}

{% block main %}

{% if not profile.forum_profile.searchable %}
  {% trans 'This user does not wich to share any private information.' %}
{% else %}
  <div class="profile_image">
  </div>
  <div class="profile_data">

    <div class="panel panel-info">
      <div class="panel-heading">
        <h3 class="panel-title"><span class="glyphicon glyphicon-user"></span> {{profile.username}}</h3>
      </div>
      <div class="panel-body">
        <div class="row">
          <div class="col-sm-3">
            {% if profile.forum_profile.avatar %}
              <img src="{{profile.forum_profile.avatar.url}}" class="img-rounded" width="100%" />
            {% else %}
              <img src="/static/images/person.jpg" class="img-rounded" width="100%" />
            {% endif %}
          </div>
          <div class="col-sm-9">
            <p>{{profile.username}}</p>
            <p>{{profile.descripion_html|safe}}</p>
            <table class="table">
              {% for k,v in table_fields %}
                {% if v %}
                  <tr>
                    <td>{% trans k %}</td>
                    <td>{{v}}</td>
                  </tr>
                {% endif %}
              {% endfor %}
            </table>

          </div>
        </div>
      </div>
      <div class="panel-footer">
        <div class="row">
          <div class="col-xs-6" ></div>
          <div class="col-xs-6 text-right">
            <a href="{% url messages %}?addressee={{profile.username}}">
              <span class="glyphicon glyphicon-envelope"></span>
              {% trans 'Send Message' %}
            </a>
          </div>
        </div>
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">{% trans 'Compatibility' %}</h3>
      </div>
      <div class="panel-body">
        <div class="progress">
          <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="{{fit_overall}}" aria-valuemin="0" aria-valuemax="100" style="width: {{fit_overall}}%">{% trans 'Overall' %}
          </div>
        </div>
        <div class="progress">
          <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="{{fit_body}}" aria-valuemin="0" aria-valuemax="100" style="width: {{fit_body}}%">{% trans 'Body' %}
          </div>
        </div>
        <div class="progress">
          <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="{{fit_activities}}" aria-valuemin="0" aria-valuemax="100" style="width: {{fit_activities}}%">{% trans 'Activities' %}
          </div>
        </div>
      </div>
    </div>

    {% if profile.forum_profile.activities.all %}
      <h4>{% trans 'Sports' %}:</h4>
      {% for a in profile.forum_profile.activities.all %}
        {% if a.sport %}
          {{a}}<br/>
        {% endif%}
      {% endfor %}

      <h4>{% trans 'Activities' %}:</h4>
      {% for a in profile.forum_profile.activities.all %}
        {% if not a.sport %}
          {{a}}<br/>
        {% endif%}
      {% endfor %}
    {% endif %}

  </div>
{% endif %}

{% endblock %}
